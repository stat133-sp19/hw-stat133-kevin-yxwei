curry <- read.csv("../data/stephen-curry.csv",stringsAsFactors = FALSE)
curry
curry$shot_made_flag["y"]="shot_yes"
curry$shot_made_flag=cut(curry$shot_made_flag,c("n","y"),labels = c("shot_no","shot_yes"))
source('C:/Users/a/Desktop/workout01/code/make-shots-data-script.R')
source('C:/Users/a/Desktop/workout01/code/make-shots-data-script.R')
curry$shot_made_flag["n"]
curry$shot_made_flag[which(curry$shot_made_flag=="n")]##="shot_no"
curry
curry$shot_made_flag <- shot_flag
shot_flag <-curry$shot_made_flag
curry
clear
source('C:/Users/a/Desktop/workout01/code/make-shots-data-script.R')
curry <- read.csv("../data/stephen-curry.csv",stringsAsFactors = FALSE)
iguodala <- read.csv("../data/andre-iguodala.csv",stringsAsFactors = FALSE)
green <- read.csv("../data/draymond-green.csv",stringsAsFactors = FALSE)
durant <- read.csv("../data/kevin-durant.csv",stringsAsFactors = FALSE)
thompson<- read.csv("../data/klay-thompson.csv",stringsAsFactors = FALSE)
shot_flag <-curry$shot_made_flag
shot_flag[which(shot_flag=="n")]="shot_no"
shot_flag[which(shot_flag=="y")]="shot_yes"
curry$shot_made_flag <- shot_flag
curry
iguodala$shot_made_flag[which(iguodala$shot_made_flag=="n")]="shot_no"
iguodala$shot_made_flag[which(iguodala$shot_made_flag=="y")]="shot_yes"
iguodala
curry$shot_made_flag[which(curry$shot_made_flag=="n")]="shot_no"
curry$shot_made_flag[which(curry$shot_made_flag=="y")]="shot_yes"
iguodala$shot_made_flag[which(iguodala$shot_made_flag=="n")]="shot_no"
iguodala$shot_made_flag[which(iguodala$shot_made_flag=="y")]="shot_yes"
green$shot_made_flag[which(green$shot_made_flag=="n")]="shot_no"
green$shot_made_flag[which(green$shot_made_flag=="y")]="shot_yes"
durant$shot_made_flag[which(durant$shot_made_flag=="n")]="shot_no"
durant$shot_made_flag[which(durant$shot_made_flag=="y")]="shot_yes"
thompson$shot_made_flag[which(thompson$shot_made_flag=="n")]="shot_no"
thompson$shot_made_flag[which(thompson$shot_made_flag=="y")]="shot_yes"
curry$minutes<- curry$period*12-curry$minutes_remaining
iguodala$minutes<- iguodala$period*12-iguodala$minutes_remaining
green$minutes<- green$period*12-green$minutes_remaining
durant$minutes<- durant$period*12-durant$minutes_remaining
thompson$minutes<- thompson$period*12-thompson$minutes_remaining
sink(file = '../output/stephen-curry-summary.txt')
summary(curry)
sink()
sink(file = '../output/stephen-curry-summary.txt')
summary(curry)
sink()
sink(file = '../output/andre-iguodala-summary.txt')
summary(iguodala)
sink()
sink(file = '../output/draymond-green-summary.txt')
summary(green)
sink()
sink(file = '../output/kevin-durant-summary.txt')
summary(durant)
sink()
sink(file = '../output/klay-thompson-summary.txt')
summary(thompson)
sink()
curry <- read.csv("../data/stephen-curry.csv",stringsAsFactors = FALSE)
iguodala <- read.csv("../data/andre-iguodala.csv",stringsAsFactors = FALSE)
green <- read.csv("../data/draymond-green.csv",stringsAsFactors = FALSE)
durant <- read.csv("../data/kevin-durant.csv",stringsAsFactors = FALSE)
thompson<- read.csv("../data/klay-thompson.csv",stringsAsFactors = FALSE)
curry$minutes<- "stephen curry"
curry
curry <- read.csv("../data/stephen-curry.csv",stringsAsFactors = FALSE)
iguodala <- read.csv("../data/andre-iguodala.csv",stringsAsFactors = FALSE)
green <- read.csv("../data/draymond-green.csv",stringsAsFactors = FALSE)
durant <- read.csv("../data/kevin-durant.csv",stringsAsFactors = FALSE)
thompson<- read.csv("../data/klay-thompson.csv",stringsAsFactors = FALSE)
curry
curry <- read.csv("../data/stephen-curry.csv",stringsAsFactors = FALSE)
iguodala <- read.csv("../data/andre-iguodala.csv",stringsAsFactors = FALSE)
green <- read.csv("../data/draymond-green.csv",stringsAsFactors = FALSE)
durant <- read.csv("../data/kevin-durant.csv",stringsAsFactors = FALSE)
thompson<- read.csv("../data/klay-thompson.csv",stringsAsFactors = FALSE)
curry$name<- "Stephen Curry"
iguodala$name<- "Andre Iguodala"
green$name<- "Draymond Green"
durant$name<- "Kevin Durant"
thompson$name<- "Klay Thompson"
curry$shot_made_flag[which(curry$shot_made_flag=="n")]="shot_no"
curry$shot_made_flag[which(curry$shot_made_flag=="y")]="shot_yes"
iguodala$shot_made_flag[which(iguodala$shot_made_flag=="n")]="shot_no"
iguodala$shot_made_flag[which(iguodala$shot_made_flag=="y")]="shot_yes"
green$shot_made_flag[which(green$shot_made_flag=="n")]="shot_no"
green$shot_made_flag[which(green$shot_made_flag=="y")]="shot_yes"
durant$shot_made_flag[which(durant$shot_made_flag=="n")]="shot_no"
durant$shot_made_flag[which(durant$shot_made_flag=="y")]="shot_yes"
thompson$shot_made_flag[which(thompson$shot_made_flag=="n")]="shot_no"
thompson$shot_made_flag[which(thompson$shot_made_flag=="y")]="shot_yes"
curry$minutes<- curry$period*12-curry$minutes_remaining
iguodala$minutes<- iguodala$period*12-iguodala$minutes_remaining
green$minutes<- green$period*12-green$minutes_remaining
durant$minutes<- durant$period*12-durant$minutes_remaining
thompson$minutes<- thompson$period*12-thompson$minutes_remaining
sink(file = '../output/stephen-curry-summary.txt')
summary(curry)
sink()
sink(file = '../output/andre-iguodala-summary.txt')
summary(iguodala)
sink()
sink(file = '../output/draymond-green-summary.txt')
summary(green)
sink()
sink(file = '../output/kevin-durant-summary.txt')
summary(durant)
sink()
sink(file = '../output/klay-thompson-summary.txt')
summary(thompson)
sink()
ots_data <- curry
rbind(shots_data,iguodala,green,durant,thompson)
shots_data <- curry
rbind(shots_data,iguodala,green,durant,thompson)
shots_data <- curry
rbind(shots_data,iguodala,green,durant,thompson)
shots_data
shots_data
curry
shots_data<- rbind(shots_data,iguodala,green,durant,thompson)
shots_data <- curry
shots_data<- rbind(shots_data,iguodala,green,durant,thompson)
shots_data
write.csv(
x = shots_data,
file = '../output/shots-data.csv'
)
sink(file = '../output/shots-data-summary.txt')
summary(shots_data)
sink()
dat <- read.csv("../output/shots-data.csv",stringsAsFactors = FALSE)
curry<- dat[which(name="Stephen Curry")]
iguodala<-dat[which(name="Andre Iguodala")]
green<- dat[which(name="Draymond Green")]
durant<- dat[which(name="Kevin Durant")]
thompson<- dat[which(name="Klay Thompson")]
dat <- read.csv("../output/shots-data.csv",stringsAsFactors = FALSE)
curry<- dat[which(dat$name="Stephen Curry")]
iguodala<-dat[which(dat$name="Andre Iguodala")]
green<- dat[which(dat$name="Draymond Green")]
durant<- dat[which(dat$name="Kevin Durant")]
thompson<- dat[which(dat$name="Klay Thompson")]
dat <- read.csv("../output/shots-data.csv",stringsAsFactors = FALSE)
curry<- dat[which(dat$name=="Stephen Curry")]
iguodala<-dat[which(dat$name=="Andre Iguodala")]
green<- dat[which(dat$name=="Draymond Green")]
durant<- dat[which(dat$name=="Kevin Durant")]
thompson<- dat[which(dat$name=="Klay Thompson")]
curry<- dat[dat$name=="Stephen Curry"]
dat <- read.csv("../output/shots-data.csv",stringsAsFactors = FALSE)
library(dplyr)
curry<- filter(dat,name=="Stephen Curry")
iguodala<-filter(dat,name=="Andre Iguodala")
green<- filter(dat,name=="Draymond Green")
durant<- filter(dat,name=="Kevin Durant")
thompson<-filter(dat,name=="Klay Thompson")
library(dplyr)
library(ggplot2)
klay_scatterplot<- ggplot(data=thompson)+
geom_point(ase(x=x,y=y,color= shot_made_flag))
klay_scatterplot<- ggplot(data=thompson)+
geom_point(aes(x=x,y=y,color= shot_made_flag))
library(jpeg)
library(grid)
install.packages(jpeg)
install.packages("jpeg")
install.packages("grid")
install.packages("grid")
install.packages("grid")
library(jpeg)
library(grid)
library(jpeg)
library(grid)
count_file <- "../images/nba-court.jpg"
court_image <- rasterGrob(
readJPEG(count_file),
width = unit(1, "npc"),
height = unit(1, "npc")
)
pdf(file = "../images/klay-thompson-shot-chart.pdf",width = 6.5,height = 5)
klay_shot_chart <- ggplot(data=thompson) +
annotation_custom(court_image,-250,250,-50,420)+
geom_point(aes(x=x,y=y,color= shot_made_flag))+
ylim(-50,420)+
ggtitle('Shot Chart: Klay Thompson (2016 season)')+
theme_minimal()
dev.off()
library(dplyr)
library(ggplot2)
count_file <- "../images/nba-court.jpg"
court_image <- rasterGrob(
readJPEG(count_file),
width = unit(1, "npc"),
height = unit(1, "npc")
)
pdf(file = "../images/klay-thompson-shot-chart.pdf",width = 6.5,height = 5)
klay_shot_chart <- ggplot(data=thompson) +
annotation_custom(court_image,-250,250,-50,420)+
geom_point(aes(x=x,y=y,color= shot_made_flag))+
ylim(-50,420)+
ggtitle('Shot Chart: Klay Thompson (2016 season)')+
theme_minimal()
dev.off()
count_file <- "../images/nba-court.jpg"
court_image <- rasterGrob(
readJPEG(count_file),
width = unit(1, "npc"),
height = unit(1, "npc")
)
pdf(file = "../images/klay-thompson-shot-chart.pdf",width = 6.5,height = 5)
klay_shot_chart <- ggplot(data=thompson) +
annotation_custom(court_image,-250,250,-50,420)+
geom_point(aes(x=x,y=y,color= shot_made_flag))+
ylim(-50,420)+
ggtitle('Shot Chart: Klay Thompson (2016 season)')+
theme_minimal()
dev.off()
count_file <- "../images/nba-court.jpg"
court_image <- rasterGrob(
readJPEG(count_file),
width = unit(1, "npc"),
height = unit(1, "npc")
)
pdf(file = "../images/klay-thompson-shot-chart.pdf",width = 6.5,height = 5)
klay_shot_chart <- ggplot(data=thompson) +
annotation_custom(court_image,-250,250,-50,420)+
geom_point(aes(x=x,y=y,color= shot_made_flag))+
ylim(-50,420)+
ggtitle('Shot Chart: Klay Thompson (2016 season)')+
theme_minimal()
dev.off()
library(jpeg)
library(grid)
count_file <- "../images/nba-court.jpg"
court_image <- rasterGrob(
readJPEG(count_file),
width = unit(1, "npc"),
height = unit(1, "npc")
)
pdf(file = "../images/klay-thompson-shot-chart.pdf",width = 6.5,height = 5)
ggplot(data=thompson) +
annotation_custom(court_image,-250,250,-50,420)+
geom_point(aes(x=x,y=y,color= shot_made_flag))+
ylim(-50,420)+
ggtitle('Shot Chart: Klay Thompson (2016 season)')+
theme_minimal()
dev.off()
library(jpeg)
library(grid)
count_file <- "../images/nba-court.jpg"
court_image <- rasterGrob(
readJPEG(count_file),
width = unit(1, "npc"),
height = unit(1, "npc")
)
pdf(file = "../images/klay-thompson-shot-chart.pdf",width = 6.5,height = 5)
ggplot(data=thompson) +
annotation_custom(court_image,-250,250,-50,420)+
geom_point(aes(x=x,y=y,color= shot_made_flag))+
ylim(-50,420)+
ggtitle('Shot Chart: Klay Thompson (2016 season)')+
theme_minimal()
dev.off()
pdf(file = "../images/andre-iguodala-shot-chart.pdf",width = 6.5,height = 5)
ggplot(data=iguodala) +
annotation_custom(court_image,-250,250,-50,420)+
geom_point(aes(x=x,y=y,color= shot_made_flag))+
ylim(-50,420)+
ggtitle('Shot Chart: Andre Iguodala (2016 season)')+
theme_minimal()
dev.off()
pdf(file = "../images/draymond-green-shot-chart.pdf",width = 6.5,height = 5)
ggplot(data=green) +
annotation_custom(court_image,-250,250,-50,420)+
geom_point(aes(x=x,y=y,color= shot_made_flag))+
ylim(-50,420)+
ggtitle('Shot Chart: Draymond Green (2016 season)')+
theme_minimal()
dev.off()
pdf(file = "../images/kevin-durant-shot-chart.pdf",width = 6.5,height = 5)
ggplot(data=durant) +
annotation_custom(court_image,-250,250,-50,420)+
geom_point(aes(x=x,y=y,color= shot_made_flag))+
ylim(-50,420)+
ggtitle('Shot Chart: Kevin Durant (2016 season)')+
theme_minimal()
dev.off()
pdf(file = "../images/stephen-curry-shot-chart.pdf",width = 6.5,height = 5)
ggplot(data=curry) +
annotation_custom(court_image,-250,250,-50,420)+
geom_point(aes(x=x,y=y,color= shot_made_flag))+
ylim(-50,420)+
ggtitle('Shot Chart: Stephen Curry (2016 season)')+
theme_minimal()
dev.off()
pdf(file = "../images/gsw-shot-charts.pdf",width = 8,height = 7)
ggplot(data=dat) +
annotation_custom(court_image,-250,250,-50,420)+
geom_point(aes(x=x,y=y,color= shot_made_flag))+
facet_wrap(~ name)
ylim(-50,420)+
ggtitle('Shot Chart: Stephen Curry (2016 season)')+
theme_minimal()
dev.off()
png(file = "../images/gsw-shot-charts.png",width = 8,height = 7)
ggplot(data=dat) +
annotation_custom(court_image,-250,250,-50,420)+
geom_point(aes(x=x,y=y,color= shot_made_flag))+
facet_wrap(~ name)
ylim(-50,420)+
ggtitle('Shot Chart: Stephen Curry (2016 season)')+
theme_minimal()
dev.off()
pdf(file = "../images/gsw-shot-charts.pdf",width = 8,height = 7)
ggplot(data=dat) +
annotation_custom(court_image,-250,250,-50,420)+
geom_point(aes(x=x,y=y,color= shot_made_flag))+
facet_wrap(~ name)+
ylim(-50,420)+
ggtitle('Shot Chart: Stephen Curry (2016 season)')+
theme_minimal()
dev.off()
png(file = "../images/gsw-shot-charts.png",width = 8,height = 7)
ggplot(data=dat) +
annotation_custom(court_image,-250,250,-50,420)+
geom_point(aes(x=x,y=y,color= shot_made_flag))+
facet_wrap(~ name)+
ylim(-50,420)+
ggtitle('Shot Chart: Stephen Curry (2016 season)')+
theme_minimal()
dev.off()
png(file = "../images/gsw-shot-charts.png",width = 800,height = 700)
ggplot(data=dat) +
annotation_custom(court_image,-250,250,-50,420)+
geom_point(aes(x=x,y=y,color= shot_made_flag))+
facet_wrap(~ name)+
ylim(-50,420)+
ggtitle('Shot Chart: Stephen Curry (2016 season)')+
theme_minimal()
dev.off()
library(dplyr)
dat<- read.csv("../output/shots-data.csv")
summarise(group_by(dat,name),total=length(shot_type=="2PT Field Goal"),made=length(shot_made=="shot_yes" &shot_type=="2PT Field Goal"),prec_made=made/total,desc(prec_made))
library(dplyr)
dat<- read.csv("../output/shots-data.csv")
summarise(group_by(dat,name),total=length(shot_type=="2PT Field Goal"),made=length(shot_made_flag=="shot_yes" &shot_type=="2PT Field Goal"),prec_made=made/total,desc(prec_made))
library(dplyr)
dat<- read.csv("../output/shots-data.csv")
summarise(group_by(dat,name),total=which(shot_type=="2PT Field Goal"),made=length(shot_made_flag=="shot_yes" & shot_type=="2PT Field Goal"),prec_made=made/total,desc(prec_made))
library(dplyr)
dat<- read.csv("../output/shots-data.csv")
summarise(group_by(dat,name),total=length(which(shot_type=="2PT Field Goal")),made=length(shot_made_flag=="shot_yes" & shot_type=="2PT Field Goal"),prec_made=made/total,desc(prec_made))
library(dplyr)
dat<- read.csv("../output/shots-data.csv")
summarise(group_by(dat,name),total=length(which(shot_type=="2PT Field Goal")),made=length(which(shot_made_flag=="shot_yes" & shot_type=="2PT Field Goal")),prec_made=made/total,desc(prec_made))
library(dplyr)
dat<- read.csv("../output/shots-data.csv")
arrange(summarise(group_by(dat,name),total=length(which(shot_type=="2PT Field Goal")),made=length(which(shot_made_flag=="shot_yes" & shot_type=="2PT Field Goal")),prec_made=made/total),desc(prec_made))
